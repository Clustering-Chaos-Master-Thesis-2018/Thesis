% CREATED BY DAVID FRISK, 2016

% BASIC SETTINGS

\iffalse
\usepackage{titlecaps}
\let\svchapter\chapter
\let\svsection\section
\let\svsubsection\subsection
\let\svsubsubsection\subsubsection
\fi

\usepackage{moreverb}								% List settings
\usepackage{textcomp}								% Fonts, symbols etc.
\usepackage{lmodern}								% Latin modern font
\usepackage{helvet}									% Enables font switching
\usepackage[T1]{fontenc}							% Output settings
\usepackage[english]{babel}							% Language settings
\usepackage[utf8]{inputenc}							% Input settings
\usepackage{amsmath}								% Mathematical expressions (American mathematical society)
\usepackage{amssymb}								% Mathematical symbols (American mathematical society)
\usepackage{graphicx}								% Figures
\numberwithin{equation}{chapter}					% Numbering order for equations
\numberwithin{figure}{chapter}						% Numbering order for figures
\numberwithin{table}{chapter}						% Numbering order for tables
\usepackage{minted}						    		% Enables source code listings
\usepackage{chemfig}								% Chemical structures
\usepackage[top=3cm, bottom=3cm,
			inner=3cm, outer=3cm]{geometry}			% Page margin lengths			
\usepackage{eso-pic}								% Create cover page background
\newcommand{\backgroundpic}[3]{
	\put(#1,#2){
	\parbox[b][\paperheight]{\paperwidth}{
	\centering
	\includegraphics[width=\paperwidth,height=\paperheight,keepaspectratio]{#3}}}}
\usepackage{float} 									% Enables object position enforcement using [H]
\usepackage{parskip}								% Enables vertical spaces correctly 

\usepackage{xcolor}
\usepackage{framed}
\usepackage{subcaption}                             % Enables subfigures
\usepackage[list=true]{subcaption}                  % List subfigures in list of figures
\usepackage{notoccite}

\usepackage[normalem]{ulem}
\useunder{\uline}{\ul}{}

\usepackage{algorithm}
\usepackage[]{algpseudocode}

\usepackage{xpatch}

\makeatletter
\def\BState{\State\hskip-\ALG@thistlm}
\makeatother


\definecolor{newtextcolor}{HTML}{AC3B3B}
\definecolor{improvetextcolor}{HTML}{3F3FB7}


\newenvironment{newtext}[1]
{%
    \def\FrameCommand
    {%
        \hspace{-10pt}
        \hspace{-23pt}
        %\hspace{-1ex}
        %\begin{center}
%        \raisebox{}[0pt][0pt]{\rotatebox[origin=c]{90}{Text}}
        %\vcenter
        \rotatebox{90}{ #1}
        %\end{center}
        %\vspace{\the\textheight}
        {\color{newtextcolor}\vrule width 3pt}%
        \hspace{7pt}%must no space.
    }%
    \MakeFramed{\hsize\hsize\advance\hsize-\width\FrameRestore}%
}
{\endMakeFramed}


\newenvironment{improvetext}[1]
{%
    \def\FrameCommand
    {%
        \hspace{-10pt}
        \hspace{-23pt}
        %\hspace{-1ex}
        %\begin{center}
%        \raisebox{}[0pt][0pt]{\rotatebox[origin=c]{90}{Text}}
        %\vcenter
        \rotatebox{90}{ #1}
        %\end{center}
        %\vspace{\the\textheight}
        {\color{improvetextcolor}\vrule width 3pt}%
        \hspace{7pt}%must no space.
    }%
    \MakeFramed{\hsize\hsize\advance\hsize-\width\FrameRestore}%
}
{\endMakeFramed}



% OPTIONAL SETTINGS (DELETE OR COMMENT TO SUPRESS)

% Disable automatic indentation (equal to using \noindent)
\setlength{\parindent}{0cm}                         


% Caption settings (aligned left with bold name)
\usepackage[labelfont=bf, textfont=it,
			justification=justified,
			singlelinecheck=false]{caption} 		

		  	
% Activate clickable links in table of contents  	
\usepackage{hyperref}								
\hypersetup{colorlinks, citecolor=black,
   		 	filecolor=black, linkcolor=black,
    		urlcolor=black}
    		
\usepackage[capitalize]{cleveref}


% Define the number of section levels to be included in the t.o.c. and numbered	(3 is default)	
\setcounter{tocdepth}{5}							
\setcounter{secnumdepth}{5}	


% Chapter title settings
\usepackage{titlesec}		
\titleformat{\chapter}[display]
  {\Huge\bfseries\filcenter}
  {{\fontsize{50pt}{1em}\vspace{-4.2ex}\selectfont \textnormal{\thechapter}}}{1ex}{}[]


% Header and footer settings (Select TWOSIDE or ONESIDE layout below)
\usepackage{fancyhdr}								
\pagestyle{fancy}  
\renewcommand{\chaptermark}[1]{\markboth{\thechapter.\space#1}{}} 


% Select one-sided (1) or two-sided (2) page numbering
\def\layout{2}	% Choose 1 for one-sided or 2 for two-sided layout
% Conditional expression based on the layout choice
\ifnum\layout=2	% Two-sided
    \fancyhf{}			 						
	\fancyhead[LE,RO]{\nouppercase{ \leftmark}}
	\fancyfoot[LE,RO]{\thepage}
	\fancypagestyle{plain}{			% Redefine the plain page style
	\fancyhf{}
	\renewcommand{\headrulewidth}{0pt} 		
	\fancyfoot[LE,RO]{\thepage}}	
\else			% One-sided  	
  	\fancyhf{}					
	\fancyhead[C]{\nouppercase{ \leftmark}}
	\fancyfoot[C]{\thepage}
\fi


% Enable To-do notes
\usepackage[textsize=tiny]{todonotes}   % Include the option "disable" to hide all notes
\setlength{\marginparwidth}{2.5cm} 


% Supress warning from Texmaker about headheight
\setlength{\headheight}{15pt}		

% For compact lists
\usepackage{enumitem}

\makeatletter
\renewcommand\paragraph{\@startsection{paragraph}{4}{\z@}%
                                    {3.25ex \@plus1ex \@minus.2ex}%
                                    {-0.3em}%
                                    {\normalfont\normalsize\bfseries}}



\makeatother